---
import type { SidebarInternalLink } from '@/content/config'
import { getEntry } from 'astro:content'

interface Props {
	link: SidebarInternalLink
	class?: string
}

const { link, ...props } = Astro.props
let { page, label } = link.value

if (!label) {
	const actualPage = await getEntry(page.collection, page.slug)
	label = actualPage.data.title
}
---

<a
	href={`/${page.slug}`}
	{...props}
	>{label}</a
>
